from typing import overload, Any, Literal

class Animal: ...
class Dog(Animal): ...

class Test:
    @overload
    def <warning descr="This overload overlaps overload 2 with incompatible return typeConflicting signature: '(self: Self@Test, a: Dog) -> str'">feed</warning>(self, a: Dog) -> str: ...

    @overload
    def feed(self, a: Animal) -> int: ...

    def feed(self, a: Any) -> Any: ...

class WithDefault:
    @overload
    def <warning descr="This overload overlaps overload 2 with incompatible return typeConflicting signature: '(self: Self@WithDefault, x: int) -> str'">foo</warning>(self, x: int) -> str: ...

    @overload
    def foo(self, x: int, y: int = 10) -> int: ...

    def foo(self, x: int, y: int = 10) -> Any: ...

class UnionNone:
    @overload
    def <warning descr="This overload overlaps overload 2 with incompatible return typeConflicting signature: '(self: Self@UnionNone, a: int) -> int'">foo</warning>(self, a: int) -> int: ...

    @overload
    def foo(self, a: int | None) -> str: ...

    def foo(self, a: Any) -> Any: ...

class TestWithObject:
    @overload
    def <warning descr="This overload overlaps overload 2 with incompatible return typeConflicting signature: '(self: Self@TestWithObject, a: int) -> int'">foo</warning>(self, a: int) -> int: ...

    @overload
    def foo(self, a: object) -> str: ...

    def foo(self, a: Any) -> Any: ...

class ResponseHandler:
    @overload
    def <warning descr="This overload overlaps overload 2 with incompatible return typeConflicting signature: '(self: Self@ResponseHandler, a: Literal[True]) -> Literal[\"True\"]'">foo</warning>(self, a: Literal[True]) -> Literal["True"]: ...

    @overload
    def foo(self, a: bool) -> Literal["False"]: ...

    def foo(self, a: Any) -> Any: ...

class MultiLevel:
    @overload
    def <warning descr="This overload overlaps overload 3 with incompatible return typeConflicting signature: '(self: Self@MultiLevel, a: Literal[\"A\"]) -> int'">logic</warning>(self, a: Literal["A"]) -> int: ...

    @overload
    def <warning descr="This overload overlaps overload 3 with incompatible return typeConflicting signature: '(self: Self@MultiLevel, a: Literal[\"A\", \"B\"]) -> float'">logic</warning>(self, a: Literal["A", "B"]) -> float: ...

    @overload
    def logic(self, a: str) -> str: ...

    def logic(self, a: Any) -> Any: ...