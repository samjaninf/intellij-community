<idea-plugin>
  <resource-bundle>messages.AgentSessionsBundle</resource-bundle>

  <dependencies>
    <!-- region Generated dependencies - run `Generate Product Layouts` to regenerate -->
    <module name="intellij.agent.workbench.claude.common"/>
    <module name="intellij.agent.workbench.codex.common"/>
    <module name="intellij.agent.workbench.chat"/>
    <module name="intellij.platform.compose"/>
    <!-- endregion -->
  </dependencies>

  <extensions defaultExtensionNs="com.intellij">
    <toolWindow
      id="agent.workbench.sessions"
      anchor="right"
      icon="AllIcons.Toolwindows.ToolWindowMessages"
      canCloseContents="false"
      factoryClass="com.intellij.agent.workbench.sessions.AgentSessionsToolWindowFactory"/>
    <advancedSetting
      id="agent.workbench.chat.open.in.dedicated.frame"
      default="true"
      bundle="messages.AgentSessionsBundle"
      groupKey="advanced.settings.agent.workbench"/>
    <projectFrameCapabilitiesProvider implementation="com.intellij.agent.workbench.sessions.AgentWorkbenchProjectFrameCapabilitiesProvider"/>
    <toolWindowLayoutProfileProvider implementation="com.intellij.agent.workbench.sessions.AgentWorkbenchToolWindowLayoutProfileProvider"/>
  </extensions>

  <actions resource-bundle="messages.AgentSessionsBundle">
    <group id="AgentWorkbenchSessions.ToolWindow.GearActions">
      <reference ref="OpenFile"/>
      <separator/>
      <action id="AgentWorkbenchSessions.ToggleDedicatedFrame" class="com.intellij.agent.workbench.sessions.AgentSessionsDedicatedFrameToggleAction"/>
      <action id="AgentWorkbenchSessions.Refresh" class="com.intellij.agent.workbench.sessions.AgentSessionsRefreshAction"/>
    </group>
  </actions>
</idea-plugin>
